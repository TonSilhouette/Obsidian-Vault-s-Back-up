## 概述
该项目是一款电商类微信小程序。功能包括：用户登录与个人中心、商品首页与推荐、商品分类与详情、购物车与支付等

%% RE项目是一款电商类小程序，使用了uniapp和vue3技术栈，配合微信小程序开发工具进行开发。 项目功能包括：用户登录与个人中心、商品首页与推荐、商品分类与详情，购物车与付款等。项目的难点有：商品分类的多级切换，是通过计算属性与双层遍历实现的。商品列表的上拉加载与下拉刷新，用到了微信的内置组件。 %%

## 技术栈

Uni-app、Vue3、Pinia、Uni-ui

## 技术描述

1. 使用Pinia创建了一个获取并储存安全区域的仓库，在需要的页面导入使用，实现异形屏的适配
2. 使用了微信官方提供的登录方式：手机号快速验证来实现用户登录功能
3. 使用`<scroll-view>`标签及其属性，实现了商品推荐页面的下拉刷新与上拉加载更多功能
4. 分析每个页面的功能后，封装了后退按钮、轮播图和横向滚动条等全局组件
5. 使用第三方 sku 组件实现商品库存进出计量
6. 实现支付流程、创建订单、预支付、发起微信支付、查询订单等功能

## 技术难点

1. **商品分类模块，二级分类的切换与渲染**
解决：
- 发请求获取分类模块的所有数据，数据结构为一个数组，数组的每一项又是一个数组，对应着一级目录与每个一级目录的二级目录，其中，每个二级目录中又有商品的数组
- 一级标题的渲染就直接遍历数据的第一层即可
- 二级标题的渲染与切换我使用了**计算属性**，通过一级标题的选中动态计算出二级数组
	- 其中，获取一级标题的选中状态，是通过声明一个变量`activeId`，点击了哪个一级标题就把当前的`id`赋值给`activeId`
	- 再根据`activeId`在计算属性中 find `id`并 return 出二级数组，同时还使用动态类来切换一级标题的高亮
- 二级标题使用`v-for`渲染后，再二次`v-for`二级标题下的商品，在列表渲染中要注意`item`不能重名，以及每一层循环中的`item`在数组中代表什么数据
- ⭐️总结人资递归写法