
**ä½¿ç”¨æ–¹å¼**ï¼š
- `vite`æ„å»ºé¡¹ç›®æ—¶é€‰æ‹©è¯­è¨€ä¸º`TypeScript`
- `script` åŠ ä¸ŠÂ `lang="ts"`
```xml
<script setup lang="ts"></script>
```

## ä¸€ã€defineProps

### 1.åŸºæœ¬ä½¿ç”¨
```ts
// åŸVue3çš„JSå†™æ³•
defineProps({
	money: {
		type: Number,
		required: true
	},
	car: {
		type: String,
		required: false,
		default: 'å®é©¬è½¦'
	}
})

// æ³›å‹å‡½æ•°å†™æ³• ğŸ‘ğŸ¼
defineProps<{
	money: number
	car?: string //ä¸åŠ å¯é€‰å±æ€§`?`ï¼Œåˆ™é™åˆ¶å¿…ä¼ ï¼ˆé»˜è®¤å¿…ä¼ ï¼Œæ— éœ€`required`ï¼‰
}>()

// æ³›å‹æ¥å£å†™æ³• ğŸ‘ğŸ¼
interface Props {
	money: number
	car?: string
}
defineProps<Props>()
```

### 2.è®¾ç½®é»˜è®¤å€¼
è¯­æ³•ï¼š`withDefaults(propså®šä¹‰, é»˜è®¤å€¼å¯¹è±¡)`

```ts
// å†™æ³•ä¸€ï¼šä¸å£°æ˜ç±»å‹ç›´æ¥å†™
withDefaults(defineProps<{
	money: number
	car?: string // åªæœ‰å¯é€‰å±æ€§å¯ä»¥è®¾ç½®é»˜è®¤å€¼
}>(),{
  car: 'å®é©¬è½¦'
})

// å†™æ³•äºŒï¼šä½¿ç”¨æ¥å£å£°æ˜å¯¹è±¡ç±»å‹
interface Props {
	money: number
	car?: string // åªæœ‰å¯é€‰å±æ€§å¯ä»¥è®¾ç½®é»˜è®¤å€¼
}
withDefaults(defineProps<Props>(),{
	car: 'å®é©¬è½¦' 
})
```

#### å“åº”å¼ props è§£æ„
**ä½œç”¨**ï¼šå¼¥è¡¥`defineProps`çš„ä¸¤ä¸ªç¼ºç‚¹
1. å’ŒÂ `.value`Â ç±»ä¼¼ï¼Œä¸ºäº†ä¿æŒå“åº”æ€§ï¼Œä½ å§‹ç»ˆéœ€è¦ä»¥Â `props.x`Â çš„æ–¹å¼è®¿é—®è¿™äº› propã€‚è¿™æ„å‘³ç€ä½ ä¸èƒ½å¤Ÿè§£æ„Â `defineProps`Â çš„è¿”å›å€¼ï¼Œå› ä¸ºå¾—åˆ°çš„å˜é‡å°†å¤±å»å“åº”å¼ã€‚
2. å½“ä½¿ç”¨**åŸºäºç±»å‹çš„ props çš„å£°æ˜**ï¼ˆå³ï¼šTSçš„æ¥å£å£°æ˜ï¼‰æ—¶ï¼Œæ— æ³•å¾ˆæ–¹ä¾¿åœ°å£°æ˜è¿™äº› prop çš„é»˜è®¤å€¼ã€‚å³ä½¿æœ‰Â `withDefaults()`Â è¿™ä¸ª APIï¼Œä½¿ç”¨èµ·æ¥ä»ç„¶å¾ˆç¬¨æ‹™ã€‚

**è¯­æ³•**ï¼š`defineProps`Â ä¸è§£æ„ä¸€èµ·ä½¿ç”¨
```ts
interface Props {
	money: number
	car?: string
}
const { money, car = "å®é©¬è½¦" } = defineProps<Props>();
```

**æ˜¾å¼å¯ç”¨**:
```js
// vite.config.js
export default {
  plugins: [
    vue({
      reactivityTransform: true
    })
  ]
}
```

## äºŒã€defineEmits

### 1.åŸºæœ¬ä½¿ç”¨
```ts
// åŸVue3çš„JSå†™æ³•
const emit = defineEmits(['changeMoney', 'changeCar'])

// æ³›å‹å‡½æ•°+å‡½æ•°ç­¾åå†™æ³• ğŸ‘ğŸ¼
const emit = defineEmits<{ 
	(name: 'changeMoney', value: number): void 
	(name: 'changeCar', value: string): void 
}>()

// æ³›å‹æ¥å£+å‡½æ•°ç­¾åå†™æ³• ğŸ‘ğŸ¼
interface Emits { 
	(name: 'changeMoney', value: number): void 
	(name: 'changeCar', value: string): void 
} 
const emit = defineEmits<Emits>()
```

####  å‡½æ•°çš„è°ƒç”¨ç­¾å
```ts
// æ™®é€šå‡½æ•°çš„å†™æ³•
type MyFn = (name: "changeNum" | "changeStr", value: number | string ) => void
const fn: MyFn = (name, value) => {};
// å‡ä¸æŠ¥é”™
fn("changeNum", "1");
fn("changeNum", 1);
fn("changeStr", "1");

// å‡½æ•°çš„è°ƒç”¨ç­¾åå†™æ³•
// â­ï¸æ­¤æ—¶çš„ç±»å‹å‚æ•°å¿…é¡»ä¸ºå¯¹è±¡ï¼Œå‡½æ•°ä¹Ÿæ˜¯ä¸€ç§å¯¹è±¡
interface MyFn { 
	(name: "changeNum", value: number): void; 
	(name: "changeStr", value: string): void; 
}
```